Motorola DSP56800 Assembler  Version 6.3.16  110-11-03  12:48:56  C:\Software\iCub\firmware\controllerBll\Support\DSP56F807_vector_pROM_2BLL.asm  Page 1



1      
2      
3      
4      
5                          ; metrowerks sample code
6      
7      
8      
9                                    section rtlib
10        P:000000                   org     p:
11     
12                         M56807_intRoutine:
13        P:000000 E041              debug
14        P:000001 E040              nop
15        P:000002 E040              nop
16        P:000003 EDD9              rti
17     
18                         M56807_intDef:
19        P:000004 E041              debug
20        P:000005 E040              nop
21        P:000006 E040              nop
22        P:000007 EDD9              rti
23                                   endsec
24     
25                                   section interrupt_vectors_mirror
26        P:000000                   org     p:
27     
28        P:000000 E984              jmp     Finit_M56807_                     ; RESET                    ($00)
                   0000
29        P:000002 E984              jmp     M56807_intRoutine                 ; COP Watchdog reset       ($02)
                   0000
30                                   endsec
31     
32     
33                                   section interrupt_vectors
34        P:000000                   org     p:
35     
36        P:000000 E984              jmp     M56807_intRoutine                 ; reserved                 ($04)
                   0000
37        P:000002 E984              jmp     M56807_intRoutine                 ; illegal instruction      ($06)
                   0000
38        P:000004 E984              jmp     M56807_intRoutine                 ; Software interrupt       ($08)
                   0000
39        P:000006 E984              jmp     M56807_intRoutine                 ; hardware stack overflow  ($0A)
                   0000
40        P:000008 E984              jmp     M56807_intRoutine                 ; OnCE Trap                            ($0C)
                   0000
41        P:00000A E984              jmp     M56807_intRoutine                 ; reserved                 ($0E)
                   0000
42        P:00000C E984              jmp     M56807_intRoutine                 ; external interrupt A     ($10)
                   0000
43        P:00000E E984              jmp     M56807_intRoutine                 ; external interrupt B     ($12)
                   0000
44        P:000010 E984              jmp     M56807_intRoutine                 ; reserved                         ($14)
                   0000
45        P:000012 E984              jmp     M56807_intRoutine                 ; boot flash interface     ($16)
                   0000
46        P:000014 E984              jmp     M56807_intRoutine                 ; program flash interface  ($18)
                   0000
47        P:000016 E9C8              jsr     FIFsh1_interrupt                  ; data flash interface     ($1A)
                   0000
48        P:000018 E9C8              jsr     FCAN1_interruptTx                 ; mscan transmitter ready  ($1C)
Motorola DSP56800 Assembler  Version 6.3.16  110-11-03  12:48:56  C:\Software\iCub\firmware\controllerBll\Support\DSP56F807_vector_pROM_2BLL.asm  Page 2



                   0000
49        P:00001A E9C8              jsr     FCAN1_interruptRx                 ; mscan receiver full      ($1E)
                   0000
50        P:00001C E9C8              jsr     FCAN1_interruptError              ; mscan error              ($20)
                   0000
51        P:00001E E9C8              jsr     FCAN1_interruptWakeup             ; mscan wakeup             ($22)
                   0000
52        P:000020 E984              jmp     M56807_intRoutine                 ; program flash interface 2($24)
                   0000
53        P:000022 E984              jmp     M56807_intRoutine                 ; GPIO E                   ($26)
                   0000
54        P:000024 E984              jmp     M56807_intRoutine                 ; GPIO D                   ($28)
                   0000
55        P:000026 E984              jmp     M56807_intRoutine                 ; reserved                 ($2A)
                   0000
56        P:000028 E984              jmp     M56807_intRoutine                 ; GPIO B                   ($2C)
                   0000
57        P:00002A E984              jmp     M56807_intRoutine                 ; GPIO A                   ($2E)
                   0000
58        P:00002C E984              jmp     M56807_intRoutine                 ; SPI transmitted empty    ($30)
                   0000
59        P:00002E E984              jmp     M56807_intRoutine                 ; SPI receiver full/error  ($32)
                   0000
60        P:000030 E984              jmp     M56807_intRoutine                 ; Quad decoder #1 home sw  ($34)
                   0000
61        P:000032 E984              jmp     M56807_intRoutine                 ; Quad decoder #1 idx pulse($36)
                   0000
62        P:000034 E984              jmp     M56807_intRoutine                 ; Quad decoder #0 home sw  ($38)
                   0000
63        P:000036 E984              jmp     M56807_intRoutine                 ; Quad decoder #0 idx pulse($3A)
                   0000
64        P:000038 E9C8              jsr     FTD0_interrupt                    ; Timer D Channel 0        ($3C)
                   0000
65        P:00003A E984              jmp     M56807_intRoutine                 ; Timer D Channel 1        ($3E)
                   0000
66        P:00003C E984              jmp     M56807_intRoutine                 ; Timer D Channel 2        ($40)
                   0000
67        P:00003E E984              jmp     M56807_intRoutine                 ; Timer D Channel 3        ($42)
                   0000
68        P:000040 E984              jmp     M56807_intRoutine                 ; Timer C Channel 0        ($44)
                   0000
69        P:000042 E984              jmp     M56807_intRoutine                 ; Timer C Channel 1        ($46)
                   0000
70        P:000044 E984              jmp     M56807_intRoutine                 ; Timer C Channel 2        ($48)
                   0000
71        P:000046 E984              jmp     M56807_intRoutine                 ; Timer C Channel 3        ($4a)
                   0000
72        P:000048 E9C8              jsr     FInterrupt_Phase_X1               ; Timer B Channel 0        ($4c)
                   0000
73        P:00004A E9C8              jsr     FInterrupt_Phase_Y1               ; Timer B Channel 1        ($4e)
                   0000
74        P:00004C E9C8              jsr     FInterrupt_Phase_Z1               ; Timer B Channel 2        ($50)
                   0000
75        P:00004E E984              jmp     M56807_intRoutine                 ; Timer B Channel 3        ($52)
                   0000
76        P:000050 E9C8              jsr     FInterrupt_Phase_X0               ; Timer A Channel 0        ($54)
                   0000
77        P:000052 E9C8              jsr     FInterrupt_Phase_Y0               ; Timer A Channel 1        ($56)
                   0000
78        P:000054 E9C8              jsr     FInterrupt_Phase_Z0               ; Timer A Channel 2        ($58)
                   0000
79        P:000056 E9C8              jsr     FTI1_interrupt                    ; Timer A Channel 3        ($5a)
Motorola DSP56800 Assembler  Version 6.3.16  110-11-03  12:48:56  C:\Software\iCub\firmware\controllerBll\Support\DSP56F807_vector_pROM_2BLL.asm  Page 3



                   0000
80        P:000058 E984              jmp     M56807_intRoutine                 ; SCI #1 Transmit complete ($5c)
                   0000
81        P:00005A E984              jmp     M56807_intRoutine                 ; SCI #1 transmitter ready ($5e)
                   0000
82        P:00005C E984              jmp     M56807_intRoutine                 ; SCI #1 receiver error    ($60)
                   0000
83        P:00005E E984              jmp     M56807_intRoutine                 ; SCI #1 receiver full     ($62)
                   0000
84        P:000060 E984              jmp     M56807_intRoutine                 ; SCI #0 Transmit complete ($64)
                   0000
85        P:000062 E9C8              jsr     FAS1_InterruptTx                  ; SCI #0 transmitter ready ($66)
                   0000
86        P:000064 E9C8              jsr     FAS1_InterruptError               ; SCI #0 receiver error    ($68)
                   0000
87        P:000066 E9C8              jsr     FAS1_InterruptRx                  ; SCI #0 receiver full     ($6a)
                   0000
88        P:000068 E9C8              jsr     FAD_interruptCCB                  ; ADC B Conversion complete($6c)
                   0000
89        P:00006A E9C8              jsr     FAD_interruptCCA                  ; ADC A Conversion complete($6e)
                   0000
90        P:00006C E984              jmp     M56807_intRoutine                 ; ADC B zero crossing/error($70)
                   0000
91        P:00006E E984              jmp     M56807_intRoutine                 ; ADC A zero crossing/error($72)
                   0000
92        P:000070 E984              jmp     M56807_intRoutine                 ; Reload PWM B                     ($74)
                   0000
93        P:000072 E984              jmp     M56807_intRoutine                 ; Reload PWM A                     ($76)
                   0000
94        P:000074 E9C8              jsr     FFaultB_Interrupt                 ; PWM B Fault                      ($78)
                   0000
95        P:000076 E9C8              jsr     FFaultA_Interrupt                 ; PWM A Fault                      ($7a)
                   0000
96        P:000078 E984              jmp     M56807_intRoutine                 ; PLL loss of lock                 ($7c)
                   0000
97        P:00007A E984              jmp     M56807_intRoutine                 ; low voltage detector     ($7e)
                   0000
98     
99                                   endsec
100    
101    
102    
103                        M56807_OMRSetting
104       0103                       equ     $0103
105    
106                                  section rtlib
107    
108       X:0000                   org     x:
109                                global  FM56807_int_Addr
110                      FM56807_int_Addr
111       X:0000                   dc      M56807_intDef                     ; Address of the unhandled exception
112    
113                      M56807_argc
114       0000                     equ     0
115                                global  FM56807_argv
116                                global  FM56807_arge
117                      FM56807_argv:
118                      FM56807_arge:
119       X:0001                   dc      0
120    
121    
122                                  endsec
Motorola DSP56800 Assembler  Version 6.3.16  110-11-03  12:48:56  C:\Software\iCub\firmware\controllerBll\Support\DSP56F807_vector_pROM_2BLL.asm  Page 4



123                                  end

0    Errors
0    Warnings


