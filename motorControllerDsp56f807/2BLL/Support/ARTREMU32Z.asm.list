Motorola DSP56800 Assembler  Version 6.3.16  110-11-03  12:48:56  C:\Software\iCub\firmware\controllerBll\Support\ARTREMU32Z.asm  Page 1



1                          ;----------------------------------------------------------------------
2                          ;  Metrowerks Embedded Runtime Support 1998 May
3                          ;
4                          ;       rtrem32.asm
5                          ;
6                          ;               Copyright © 1998 Metrowerks, Inc.
7                          ;               All rights reserved.
8                          ;
9                          ;       Routines
10                         ;       --------
11                         ;
12                         ;
13                         ;----------------------------------------------------------------------
14                         ;
15     
16                                   section rtlib
17                                   global  ARTREMU32Z
18        P:000000                   org     p:
19     
20                                   include "asmdef.h"
21     
22     
23     
24                         ;----------------------------------------------------------------------
25                         ;
26                         ; MSL
27                         ; Copyright ©1995-2006 Freescale Corporation.  All rights reserved.
28                         ;
29                         ; $Date: 2006/02/09 17:01:36 $
30                         ; $Revision: 1.3.4.2 $
31                         ;
32                         ;
33                         ;
34                         ;       Routines
35                         ;       --------
36                         ;       macros and defines for simplifying assembly coding
37                         ;
38                         ;----------------------------------------------------------------------
39                         ;
40     
41        0001             TRUE      equ     1
42        0000             FALSE     equ     0
43     
44                         ;
45                         ; Conditional assembly switch setting
46                         ;
47     
48        0000             REV_A2    equ     FALSE                             ; Set to true for configurations
49                                                                             ; with revision A2 of the DSP56811.
50     
51        0001             REV_B     equ     TRUE                              ; Set to true for configurations
52                                                                             ; with revision B of the DSP56811.
53     
54                         ;************************************************************************
55                         ;
56                         ; Macro definitions
57                         ;
58                         ;************************************************************************
59                         PUSH      MACRO   arg
60   m                               lea     (sp)+
61   m                               move    arg,x:(sp)
62   m                               ENDM
Motorola DSP56800 Assembler  Version 6.3.16  110-11-03  12:48:56  asmdef.h  Page 2



63     
64                         push      MACRO   arg
65   m                               lea     (sp)+
66   m                               move    arg,x:(sp)
67   m                               ENDM
68                         ;************************************************************************
69                         ;
70                         ; page0 register definitions
71                         ;
72                         ;************************************************************************
73     
74        0030             mr0       equ     x:$30
75        0031             mr1       equ     x:$31
76        0032             mr2       equ     x:$32
77        0033             mr3       equ     x:$33
78        0034             mr4       equ     x:$34
79        0035             mr5       equ     x:$35
80        0036             mr6       equ     x:$36
81        0037             mr7       equ     x:$37
82        0038             mr8       equ     x:$38
83        0039             mr9       equ     x:$39
84        003A             mr10      equ     x:$3A
85        003B             mr11      equ     x:$3B
86        003C             mr12      equ     x:$3C
87        003D             mr13      equ     x:$3D
88        003E             mr14      equ     x:$3E
89        003F             mr15      equ     x:$3F
90     
91        0030             MR0       equ     x:$30
92        0031             MR1       equ     x:$31
93        0032             MR2       equ     x:$32
94        0033             MR3       equ     x:$33
95        0034             MR4       equ     x:$34
96        0035             MR5       equ     x:$35
97        0036             MR6       equ     x:$36
98        0037             MR7       equ     x:$37
99        0038             MR8       equ     x:$38
100       0039             MR9       equ     x:$39
101       003A             MR10      equ     x:$3A
102       003B             MR11      equ     x:$3B
103       003C             MR12      equ     x:$3C
104       003D             MR13      equ     x:$3D
105       003E             MR14      equ     x:$3E
106       003F             MR15      equ     x:$3F
107    
108                        ;************************************************************************
109                        ;
110                        ; Peripheral register definitions for init56811.asm
111                        ;
112                        ;************************************************************************
113    
114       FFFB             IPR       equ     x:$FFFB                           ; Interrupt priority register
115    
116       FFF1             COPCTL    equ     x:$FFF1                           ; COP control regiser
117    
118       FFE6             SPCR1     equ     x:$FFE6                           ; SPI1 control register
119       FFE2             SPCR0     equ     x:$FFE2                           ; SPI0 control register
120    
121       FFDF             TCR01     equ     x:$FFDF                           ; Timer01 Control register
122       FFDA             TCR2      equ     x:$FFDA                           ; Timer2 control reg
123    
124       FFD2             MCR2      equ     x:$FFD2                           ; MMSI control reg 2
Motorola DSP56800 Assembler  Version 6.3.16  110-11-03  12:48:56  asmdef.h  Page 3



125    
126                        ;************************************************************************
127                        ;
128                        ; Assembly version of errno.h and signal.h
129                        ;
130                        ;************************************************************************
131       0006             signal_max equ    6
132       0001             SIGABRT   equ     1
133       0002             SIGFPE    equ     2
134       0003             SIGILL    equ     3
135       0004             SIGINT    equ     4
136       0005             SIGSEGV   equ     5
137       0006             SIGTERM   equ     6
138    
139       0000             ENOERR    equ     0
140       0021             EDOM      equ     33
141       0022             ERANGE    equ     34
142       0023             EFPOS     equ     35
143       0024             ESIGPARM  equ     36
144    
145    
146                        ARTREMU32Z:
147    
148       P:000000 B5FE              move              x:(sp-2),B              ; push divisor on stack
149       P:000001 F1CB              move              x:(sp-3),b0
                   FFFD
150       P:000003 DE0B              lea     (sp)+
151       P:000004 D18B              move              b0,x:(sp)+
152       P:000005 D71F              move              b1,x:(sp)
153       P:000006 E9C8              jsr     ARTDIVU32UZ                       ; call the unsigned version
                   0000
154       P:000008 DE1B              pop
155       P:000009 DE1B              pop
156       P:00000A 6C00              tfr     B,A
157       P:00000B EDD8              rts
158    
159                                  endsec
160    
161                                  end

0    Errors
0    Warnings


